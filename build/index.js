!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){return e.extend({set:function(r,n,o){return t===r&&(n.click=i(n)),e.prototype.set.apply(this,arguments)}})}function i(e){var t=e.click,r=e.requires.library?"library":"selection";return function(e){var n=this.controller.state().get(r),i=n.models.filter((function(e){return!e.attributes.attachmentExists}));t=_.bind(t,this),i.length?(e.target.disabled=!0,wp.ajax.post("amf-select",{selection:n.toJSON(),post:wp.media.view.settings.post.id}).done((function(r){Object.keys(r).forEach((function(e){n.get(e).set("id",r[e])})),e.target.disabled=!1,t()})).fail((function(t){var r="An unknown error occurred.";t&&t[0]&&t[0].message&&(r=t[0].message),alert(r),e.target.disabled=!1}))):t()}}function o(){if(AMF_DATA&&AMF_DATA.hasOwnProperty("providers")){!function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));document.getElementsByTagName("head")[0].appendChild(t)}(".media-modal-content .media-frame select.attachment-filters { width: 150px }");var e=wp.media.view.AttachmentFilters.extend({id:"media-attachment-provider-filter",createFilters:function(){var e={};_.each(AMF_DATA.providers||{},(function(t,r){e[r]={text:t,props:{provider:r}}})),this.filters=e}}),t=wp.media.view.AttachmentsBrowser;wp.media.view.AttachmentsBrowser=wp.media.view.AttachmentsBrowser.extend({createToolbar:function(){t.prototype.createToolbar.call(this),this.toolbar.set("MediaLibraryProviderFilter",new e({controller:this.controller,model:this.collection.props,priority:-75}).render())}})}}r.r(t),wp.media.view.Toolbar=n(wp.media.view.Toolbar,"insert"),wp.media.view.Toolbar.Select=n(wp.media.view.Toolbar.Select,"select"),o()}]);